<center>代码呓语<center>

#### 20200218 周二

上周六左右开始开发小飞船，一个简单的入门小项目，跟着作者一步步码代码，
一个个小函数构建，脑袋里能逐渐形成一个脉络，明白各个函数，各个类是要做什么，
负责干什么。

小飞船到现在已创建了四个主要文件，alien_invasion.py，
整个游戏的入口和要用到的对象；ship.py，飞船文件，有一个Ship类，
控制飞船的属性，如位置移动，涉及等，还有一个update函数，
对飞船位置进行实时更新；game_functions.py文件，
游戏的大部分函数都包含在里面，目前完成的功能是通过键盘控制飞船位置左右移动；
settings.py文件，所有的配置都集中在该文件中管理，包含页面，飞船等一些属性，
如屏幕大小，背景颜色，飞船位置移动值等。慢慢的添加功能，重构代码，
越来越对这个小游戏有更深的了解，也知道了开发一个小功能活真的要细致才行，
一个小小的符号都可能报错导致程序无法正常运行。

接触这个小游戏，感觉作者一直在灌输一个思想，函数尽可能简单，
一个函数就做一件简单的事情，然后把这些简单的事情组合起来，
往后维护起来才不用太费力，别人也容易理解。
这和写自动化脚本使用PO思想有异曲同工之处，一个页面就使用一个类表示，
页面中有更多小功能就进一步拆分成各个小函数去实现，
然后流程动作通过各个对象串联起来。
***
#### 20200220 周四

今天继续编写关于子弹的射击，创建了一个Bullet类专门设计子弹。
一颗小小的子弹也要考虑到很多因素，子弹的图形，位置，速度，颜色，左右移动等，涉及的属性不少。
关键是使用了sprite中的Group类，pygame中称这个类为编组，用来存子弹用的，
具体还没有看过这个类的代码，不过功能倒是不少。因为把子弹当做一个小小的矩形，
且这个矩形跟随飞船一起移动，则屏幕更新后，更新飞船时同时也需要更新子弹，
且左右移动时也和飞船的移动一致。移动过程中进行射击，射击的路线是直线，
所以y坐标在减小，增大速度属性，减少的值越大，速度越快。发射子弹是用空格键，
则在 game_function.py 中要对原有的键盘事件进行改造。
将子弹存储到编组中和子弹的移动逻辑还是一个难点和重点，还是需要多看几遍才行。
***
#### 20200222 周六

继续修改小游戏，对子弹的射击做了进一步的优化。增加了个小功能，限制子弹数量。该功能容易
理解，重点还是那个bullets编组原理要搞懂才行。为了让代码看起更简单和容易理解，新建了
update_bullets()函数和fire_bullet()函数，自己添加了相关说明，以后看注释该容易理解。
在删除未消失的子弹功能中，出现了一个copy()函数，顺便了解了一下深浅拷贝的原理。
还要加上一个直接赋值，比较三者之间的差异。直接赋值，若b=a,a直接赋值给了b，若a内容修改的话
b会同时跟着变化，因为a,b都引用了同一个对象，本质原因是指向了同一个内存地址。  
若b=a.copy()，这是浅拷贝，看资料是说拷贝父对象，不会拷贝对象的内部的子对象。这里要
主要区分a的内容中哪个是父对象，哪个是子对象。比如a=[1,2,3,['子对象']]，拷贝了父对象，
相当于在内存中开辟了另一个空间给b，b和a的值一样，但里面都有个['子对象'],这个列表指向
的是同一个内存地址，所以，a和b不管哪个更改了['子对象']，都会导致另一个也发生改变。
若b=copy.deepcopy(a): 深度拷贝, a和b完全拷贝了父对象及其子对象，两者是完全独立的。
字面理解，深度拷贝，随便对哪个进行改变，都不会对另外一个产生影响，就酱。
***
#### 20200223 周日

pygame.init()函数总是有报错，在Pycharm中倒是没有。搜索了谷歌后尝试了方法，更糟，引出一大堆错误，郁闷。

***
#### 20200227 周四

已经创建了一个外星人了，接下来是创建一群外星人，不过从简单的的开始，先创建一行
外星人。

要想容纳一行外星人，首先要知道外星人的宽，以及屏幕的宽，两边留下的宽度和外星人
和外星人之间的间距，这些都要理清楚逻辑和公式，避免到时候外星人过于拥挤。

在game_functions.py中使用一个新的函数create_fleet()来创建第一行外星人，注意
的东西上面已经提到，在计算出可容纳的数量后，使用一个循环，每一次循环代表创建了
一个外星人，并加入aliens(Groups()编组的对象)这个编组中。

在重构阶段，把create_fleet()函数拆开进行重构，新建get_number_aliens_x()和
create_alien()两个函数。前一个把上个计算公式抽离出来，获取容纳的个数，后一个
获取了外星人相关属性后，创建了第一个外星人并放在第一行。

通过以上的重构，可以实现完整把一行外星人显示在首行。
***
#### 20200301 周日 

周六在垂直方向增加外星人，组成了外星人群。增加了get_number_rows(),修改了create_alien(),create_fleet().
垂直方向与水平方向创建外星人，有挺多相同的地方。顶上要留出空间，一个外星人宽度，外星人与外星人之间要留有空间，也是一个  
外星人宽度。外星人不能无限多行，所以与飞船之间要留有一片空白区域，才能射杀外星人。难点还是在于如何把这些转换成公式  
进行计算。由于每一行的x坐标是不变的，所以在创建的时候使用两个for循环，计算出垂直方向能容纳多少行，在每一行中再去创建  
每一个外星人。  
起初，在运行时报错，检查到screen_hight拼写少了个e，导致外星人占满了整个屏幕。这种低级的小错误要注意少犯甚至不犯。



